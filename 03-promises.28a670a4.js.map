{"mappings":"iiBAAAA,EAAA,S,iBAGMC,EAASC,SAASC,cAAe,SACjCC,EAAO,CACXC,MAAO,EACPC,KAAM,EACNC,OAAQ,GAeV,SAASC,EAAcC,EAAUJ,GAE/B,OAAO,IAAIK,SAAQ,SAACC,EAASC,GAE3BC,YAAW,WACaC,KAAKC,SAAW,GAEnCJ,EAAQ,CAACF,WAAUJ,UAExBO,EAAO,CAACH,WAAUJ,S,GAEfA,E,IAvBPJ,EAAOe,iBAAkB,SAGzB,SAAiBC,GACf,GAAIA,EAAEC,OAAOC,MAAQ,EAEnB,OADAF,EAAEC,OAAOC,MAAS,GACXC,EAAAC,GAASC,OAAOC,QAAQ,GAAiBC,OAAdP,EAAEC,OAAOO,KAAK,wBAGlDrB,EAAKa,EAAEC,OAAOO,MAAQR,EAAEC,OAAOC,K,IARjClB,EAAOe,iBAAkB,UA0BzB,SAAkBC,GAChBA,EAAES,iBAGF,IAFA,IAAIC,EAAW,EACXC,EAAQC,OAAO,GAAcL,OAAXpB,EAAKC,QAClByB,EAAI,EAAGA,EAAI1B,EAAKG,OAAQuB,GAAK,EACpCH,GAAY,EACZC,GAASC,OAAO,GAAaL,OAAVpB,EAAKE,OAE3BE,EAAcmB,EAAUC,GACtBG,MAAK,SAAAC,G,IAWWC,EAXRxB,EAAQuB,EAARvB,SAAUJ,EAAK2B,EAAL3B,MACb6B,EAAmB,uBAAwCV,OAAff,EAAS,QAAYe,OAANnB,EAAM,MAUtD4B,EATLC,EAUZd,EAAAC,GAASC,OAAOa,QAAQF,E,IARvBG,OAAM,SAAAJ,G,IAWUC,EAXPxB,EAAQuB,EAARvB,SAAUJ,EAAK2B,EAAL3B,MACdgC,EAAmB,sBAAuCb,OAAff,EAAS,QAAYe,OAANnB,EAAM,MAUrD4B,EATLI,EAUZjB,EAAAC,GAASC,OAAOC,QAAQU,E","sources":["src/js/03-promises.js"],"sourcesContent":["import \"notiflix/dist/notiflix-aio-3.2.5.min.js\";\nimport Notiflix from 'notiflix';\n\nconst formEl = document.querySelector(`.form`);\nconst refs = {\n  delay: 0,\n  step: 0,\n  amount: 0,\n};\n\nformEl.addEventListener(`input`, onInput);\nformEl.addEventListener(`submit`, onSubmit);\n\nfunction onInput(e) {\n  if (e.target.value < 0) {\n    e.target.value = ``;\n    return Notiflix.Notify.failure(`${e.target.name} cannot be negative`) \n  }\n  \n  refs[e.target.name] = e.target.value;\n};\n\nfunction createPromise(position, delay) {\n\n  return new Promise((resolve, reject) => {\n     \n    setTimeout(() => {\n      const shouldResolve = Math.random() > 0.3;\n       if (shouldResolve) {\n         resolve({position, delay})\n  } else {\n    reject({position, delay})\n  }\n    }, delay)\n    })\n};\n\nfunction onSubmit(e) {\n  e.preventDefault() \n  let position = 0;\n  let delay = Number(`${refs.delay}`);\n  for (let i = 0; i < refs.amount; i += 1) {\n    position += 1;\n    delay += Number(`${refs.step}`);\n\n createPromise(position, delay)\n  .then(({ position, delay }) => {\n    let messageOnSuccess = `✅ Fulfilled promise ${position} in ${delay}ms`;\n    onSuccess(messageOnSuccess)\n  })\n  .catch(({ position, delay }) => {\n    let messageOnFailure = `❌ Rejected promise ${position} in ${delay}ms`;\n    onFailure(messageOnFailure)\n  }); \n  }      \n};\n\nfunction onSuccess(msg) {\n  Notiflix.Notify.success(msg)\n};\n\nfunction onFailure(msg) {\n  Notiflix.Notify.failure(msg)\n};\n\n\n\n  //  createPromise(position, delay)\n  // .then(({ position, delay }) => {\n  //   console.log(`✅ Fulfilled promise ${position} in ${delay}ms`);\n  // })\n  // .catch(({ position, delay }) => {\n  //   console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n  // });"],"names":["parcelRequire","$ce04d3a99e08e73b$var$formEl","document","querySelector","$ce04d3a99e08e73b$var$refs","delay","step","amount","$ce04d3a99e08e73b$var$createPromise","position","Promise","resolve","reject","setTimeout","Math","random","addEventListener","e","target","value","$parcel$interopDefault","$iU1Pc","Notify","failure","concat","name","preventDefault","position1","delay1","Number","i","then","param","msg","messageOnSuccess","success","catch","messageOnFailure"],"version":3,"file":"03-promises.28a670a4.js.map"}