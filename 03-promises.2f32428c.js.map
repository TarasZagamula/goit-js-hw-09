{"mappings":"iiBAAAA,EAAA,S,iBAGMC,EAASC,SAASC,cAAe,SACjCC,EAAO,CACXC,MAAO,EACPC,KAAM,EACNC,OAAQ,GAUV,SAASC,EAAcC,EAAUJ,GAE/B,OAAO,IAAIK,SAAQ,SAACC,EAASC,GAE3BC,YAAW,WACaC,KAAKC,SAAW,GAEnCJ,EAAQ,CAACF,WAAUJ,UAExBO,EAAO,CAACH,WAAUJ,S,GAEfA,E,IAlBPJ,EAAOe,iBAAkB,SAGzB,SAAiBC,GACfb,EAAKa,EAAEC,OAAOC,MAAQF,EAAEC,OAAOE,K,IAHjCnB,EAAOe,iBAAkB,UAqBzB,SAAkBC,GAChBA,EAAEI,iBAGF,IAFA,IAAIC,EAAW,EACXC,EAAQC,OAAO,GAAcC,OAAXrB,EAAKC,QAClBqB,EAAI,EAAGA,EAAItB,EAAKG,OAAQmB,GAAK,EACpCJ,GAAY,EACZC,GAASC,OAAO,GAAaC,OAAVrB,EAAKE,OAE3BE,EAAcc,EAAUC,GACtBI,MAAK,SAAAC,G,IAWWC,EAXRpB,EAAQmB,EAARnB,SAAUJ,EAAKuB,EAALvB,MACbyB,EAAmB,uBAAwCL,OAAfhB,EAAS,QAAYgB,OAANpB,EAAM,MAUtDwB,EATLC,EAUZC,EAAAC,GAASC,OAAOC,QAAQL,E,IARvBM,OAAM,SAAAP,G,IAWUC,EAXPpB,EAAQmB,EAARnB,SAAUJ,EAAKuB,EAALvB,MACd+B,EAAmB,sBAAuCX,OAAfhB,EAAS,QAAYgB,OAANpB,EAAM,MAUrDwB,EATLO,EAUZL,EAAAC,GAASC,OAAOI,QAAQR,E","sources":["src/js/03-promises.js"],"sourcesContent":["import \"notiflix/dist/notiflix-aio-3.2.5.min.js\";\nimport Notiflix from 'notiflix';\n\nconst formEl = document.querySelector(`.form`);\nconst refs = {\n  delay: 0,\n  step: 0,\n  amount: 0,\n};\n\nformEl.addEventListener(`input`, onInput);\nformEl.addEventListener(`submit`, onSubmit);\n\nfunction onInput(e) {\n  refs[e.target.name] = e.target.value;\n};\n\nfunction createPromise(position, delay) {\n\n  return new Promise((resolve, reject) => {\n     \n    setTimeout(() => {\n      const shouldResolve = Math.random() > 0.3;\n       if (shouldResolve) {\n         resolve({position, delay})\n  } else {\n    reject({position, delay})\n  }\n    }, delay)\n    })\n};\n\nfunction onSubmit(e) {\n  e.preventDefault() \n  let position = 0;\n  let delay = Number(`${refs.delay}`);\n  for (let i = 0; i < refs.amount; i += 1) {\n    position += 1;\n    delay += Number(`${refs.step}`);\n\n createPromise(position, delay)\n  .then(({ position, delay }) => {\n    let messageOnSuccess = `✅ Fulfilled promise ${position} in ${delay}ms`;\n    onSuccess(messageOnSuccess)\n  })\n  .catch(({ position, delay }) => {\n    let messageOnFailure = `❌ Rejected promise ${position} in ${delay}ms`;\n    onFailure(messageOnFailure)\n  }); \n  }      \n};\n\nfunction onSuccess(msg) {\n  Notiflix.Notify.success(msg)\n};\n\nfunction onFailure(msg) {\n  Notiflix.Notify.failure(msg)\n};\n\n\n\n  //  createPromise(position, delay)\n  // .then(({ position, delay }) => {\n  //   console.log(`✅ Fulfilled promise ${position} in ${delay}ms`);\n  // })\n  // .catch(({ position, delay }) => {\n  //   console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n  // });"],"names":["parcelRequire","$ce04d3a99e08e73b$var$formEl","document","querySelector","$ce04d3a99e08e73b$var$refs","delay","step","amount","$ce04d3a99e08e73b$var$createPromise","position","Promise","resolve","reject","setTimeout","Math","random","addEventListener","e","target","name","value","preventDefault","position1","delay1","Number","concat","i","then","param","msg","messageOnSuccess","$parcel$interopDefault","$iU1Pc","Notify","success","catch","messageOnFailure","failure"],"version":3,"file":"03-promises.2f32428c.js.map"}