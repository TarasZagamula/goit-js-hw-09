{"mappings":"qhBAAAA,EAAA,S,iBAGA,MAAMC,EAASC,SAASC,cAAc,SAChCC,EAAO,CACXC,MAAO,EACPC,KAAM,EACNC,OAAQ,GAUV,SAASC,EAAcC,EAAUJ,GAE/B,OAAO,IAAIK,SAAQ,CAACC,EAASC,KAE3BC,YAAW,KACaC,KAAKC,SAAW,GAEnCJ,EAAQ,C,SAACF,E,MAAUJ,IAExBO,EAAO,C,SAACH,E,MAAUJ,GAAO,GAEtBA,EAAM,G,CAlBbJ,EAAOe,iBAAiB,SAGxB,SAAiBC,GACfb,EAAKa,EAAEC,OAAOC,MAAQF,EAAEC,OAAOE,K,IAHjCnB,EAAOe,iBAAiB,UAqBxB,SAAkBC,GAChBA,EAAEI,iBACF,IAAIC,EAAW,EACXC,EAAQC,OAAO,GAAGpB,EAAKC,SAC3B,IAAK,IAAIoB,EAAI,EAAGA,EAAIrB,EAAKG,OAAQkB,GAAK,EACpCH,GAAY,EACZC,GAASC,OAAO,GAAGpB,EAAKE,QAE3BE,EAAcc,EAAUC,GACtBG,MAAK,EAACjB,SAAEA,EAAQJ,MAAEA,MAWrB,IAAmBsB,IAVQ,uBAAqBlB,QAAiBJ,MAW/DuB,EAAAC,GAASC,OAAOC,QAAQJ,EAVK,IAE5BK,OAAM,EAACvB,SAAEA,EAAQJ,MAAEA,MAWtB,IAAmBsB,IAVQ,sBAAoBlB,QAAiBJ,MAW9DuB,EAAAC,GAASC,OAAOG,QAAQN,EAVK,G","sources":["src/js/03-promises.js"],"sourcesContent":["import \"notiflix/dist/notiflix-aio-3.2.5.min.js\";\nimport Notiflix from 'notiflix';\n\nconst formEl = document.querySelector(`.form`);\nconst refs = {\n  delay: 0,\n  step: 0,\n  amount: 0,\n};\n\nformEl.addEventListener(`input`, onInput);\nformEl.addEventListener(`submit`, onSubmit);\n\nfunction onInput(e) {\n  refs[e.target.name] = e.target.value;\n};\n\nfunction createPromise(position, delay) {\n\n  return new Promise((resolve, reject) => {\n     \n    setTimeout(() => {\n      const shouldResolve = Math.random() > 0.3;\n       if (shouldResolve) {\n         resolve({position, delay})\n  } else {\n    reject({position, delay})\n  }\n    }, delay)\n    })\n};\n\nfunction onSubmit(e) {\n  e.preventDefault() \n  let position = 0;\n  let delay = Number(`${refs.delay}`);\n  for (let i = 0; i < refs.amount; i += 1) {\n    position += 1;\n    delay += Number(`${refs.step}`);\n\n createPromise(position, delay)\n  .then(({ position, delay }) => {\n    let messageOnSuccess = `✅ Fulfilled promise ${position} in ${delay}ms`;\n    onSuccess(messageOnSuccess)\n  })\n  .catch(({ position, delay }) => {\n    let messageOnFailure = `❌ Rejected promise ${position} in ${delay}ms`;\n    onFailure(messageOnFailure)\n  }); \n  }      \n};\n\nfunction onSuccess(msg) {\n  Notiflix.Notify.success(msg)\n};\n\nfunction onFailure(msg) {\n  Notiflix.Notify.failure(msg)\n};\n\n\n\n  //  createPromise(position, delay)\n  // .then(({ position, delay }) => {\n  //   console.log(`✅ Fulfilled promise ${position} in ${delay}ms`);\n  // })\n  // .catch(({ position, delay }) => {\n  //   console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n  // });"],"names":["parcelRequire","$47d4ff9957288465$var$formEl","document","querySelector","$47d4ff9957288465$var$refs","delay","step","amount","$47d4ff9957288465$var$createPromise","position","Promise","resolve","reject","setTimeout","Math","random","addEventListener","e","target","name","value","preventDefault","position1","delay1","Number","i","then","msg","$parcel$interopDefault","$eWCmQ","Notify","success","catch","failure"],"version":3,"file":"03-promises.e4b599b5.js.map"}